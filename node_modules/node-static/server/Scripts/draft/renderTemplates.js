function renderOffer(offerIndex) {
  var template = Handlebars.compile($('#offer-templ').html());

  $('.lightbox-wrap').html(template(offers[offerIndex]));
  renderInputMessage('answer');
  $('.lightbox.offer').on('click', offerActionHandler);
  $('.js-answer').on('keypress', commentingHandler);
}

function renderShortOffers() {
  var
    template,
    columns = $('.column'),
    offerIndex = 0,
    offerId;

  template = Handlebars.compile($('#offer-plate-templ').html());

  $.each(columns, function () {
    $(this).html('');
  });

  while (offerIndex < offers.length) {
    $.each(columns, function () {
      var
        $currentImg,
        $imgContainer;

      $(this).append(template(offers[offerIndex]));
      $currentImg = $(this).find('.offer-img').last();
      $imgContainer = $currentImg.parent();
      offerId = offers[offerIndex].id;

      if ($currentImg.width() > 0 && $currentImg.width() < $imgContainer.width()) {
        $currentImg.addClass('small');
      }

      offerIndex += 1;

      if (offerIndex >= offers.length) return false;
    });
  }

  renderInputMessage('comment');
  $('.offer-plate').on('click', offerActionHandler);
  $('.js-comment').on('keypress', commentingHandler);
}

function renderInputMessage(subject) {
  var
    template,
    sourceSelector,
    containerSelector;

  switch (subject) {
    case 'comment':
      sourceSelector = '#add-comment-templ';
      containerSelector = '.add-comment';
      break;
    case 'answer':
      sourceSelector = '#add-answer-templ';
      containerSelector = '.add-answer';
      break;
    default:
      return false;
  }

  template = Handlebars.compile($(sourceSelector).html());
  $(containerSelector).append(template(user));
}

function renderTemplate(templateSelector, containerSelector, obj) {
  var template;

  template = Handlebars.compile($(templateSelector).html());
  $(containerSelector).html(template(obj));
};