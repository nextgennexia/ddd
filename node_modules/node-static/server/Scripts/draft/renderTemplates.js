function renderOffersCards(template) {
  var
    columns = $('.column'),
    handlers = $.handlers(),
    offerIndex = 0,
    i;

  $.each(columns, function () {
    $(this).html('');
  });

  while (offerIndex < preparedObj.offers.length) {
    for (i = 0; i < columns.length; i++) {
      if (preparedObj.offers[offerIndex].removed) {
        offerIndex++;
        i--;
        continue;
      }
      $(columns[i]).append(template(preparedObj.offers[offerIndex]));
      offerIndex++;
      if (offerIndex >= preparedObj.offers.length) break;
    }
  }

  $('.js-offer-card-wrap').on('click', handlers.offerActionHandler);
  $('.js-comment').on('keypress', handlers.commentingHandler);
}

function renderOfferCard(template, offerIndex) {
  var handlers = $.handlers();

  $('.js-offer-card-wrap[data-id="' + offerIndex + '"]').replaceWith(template(preparedObj.offers[offerIndex]));
  $('.js-offer-card-wrap[data-id="' + offerIndex + '"]').on('click', handlers.offerActionHandler);
  $('.js-offer-card-wrap[data-id="' + offerIndex + '"] .js-comment').on('keypress', handlers.commentingHandler);
}

function renderOffer(template, offerIndex) {
  var handlers = $.handlers();

  $('.lightbox-wrap').html(template(preparedObj.offers[offerIndex]));
  $('.lightbox.offer').on('click', handlers.offerActionHandler);
  $('.js-answer').on('keypress', handlers.commentingHandler);
}

function renderUser(template) {
  var handlers = $.handlers();

  $('.login-wrap').html(template(preparedObj.offers[0].user));
  $('.login .button').on('click', handlers.loginHandler);
}