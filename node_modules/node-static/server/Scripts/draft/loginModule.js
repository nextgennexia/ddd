(function ($) {
  $.login = function (params, callback) {
    var user = {
      params: $.extend(params),
      authorize: function () {
        $.post('/get-user', params.id, function (data) {
          $.each(preparedObj.offers, function () {
            this.user = data;
          });
          user.renderUser();
        }, 'json', 'text/plain');
      },
      renderUser: function () {
        params.loginNode.html(preparedObj.userTempl(preparedObj.offers[0].user));
        if (callback) {
          callback();
        }
      }
    };

    return {
      authorize: function () {
        user.authorize();
        user.renderUser();
      },
      renderUser: function () {
        user.renderUser();
      }
    }
  };
})(jQuery);